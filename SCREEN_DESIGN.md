# 🚁 タケコプターDemo - 画面設計書

## 📋 プロジェクト概要

顔認識機能とタケコプター画像を重ねて表示するWebアプリケーションのモックUI。
**Phase 1ではロジックを実装せず、見た目のみを実装**します。

---

## 🎨 画面要件

### 1. メイン画面（`/`）

#### 機能概要

- Webカメラのプレビューを中央に表示
- 顔認識ロジックはまだ入れず、**固定の位置**にタケコプター画像を重ねて表示
- ON/OFFボタンでタケコプター画像の表示切り替えを可能に
- シンプルなUI構成（背景白、中央配置、ボタンは下部）

#### UI構成イメージ

```
+----------------------------------------------------+
|                                                    |
|             タケコプターDemo                      |
|                                                    |
|         ┌──────────────────────┐                 |
|         │                      │                 |
|         │  Webカメラの映像領域  │                 |
|         │                      │                 |
|         │      ┌─────┐         │                 |
|         │      │ 🚁  │         │                 |
|         │      └─────┘         │                 |
|         │   (タケコプター画像)   │                 |
|         │                      │                 |
|         └──────────────────────┘                 |
|                                                    |
|              [  🚁 ON / OFF  ]                    |
|                                                    |
|                    © naizo                        |
|                                                    |
+----------------------------------------------------+
```

#### レイアウト詳細

| 要素 | 配置 | サイズ・スタイル |
|------|------|----------------|
| ヘッダー | 上部中央 | タイトル「タケコプターDemo」、フォントサイズ: 24px、太字 |
| カメラ映像領域 | 中央 | 幅: 640px、高さ: 480px、角丸: 8px、影付き |
| タケコプター画像 | カメラ映像内の固定位置 | 幅: 80px、高さ: 80px、位置: 中央上部（顔の上に配置予定） |
| ON/OFFボタン | カメラ映像の下、中央 | 幅: 200px、高さ: 50px、角丸: 25px、背景色: 青（ON時）/ グレー（OFF時） |
| フッター | 下部中央 | テキスト「© naizo」、フォントサイズ: 12px、色: グレー |

---

## 🧩 コンポーネント構成

### コンポーネント一覧

| コンポーネント | ファイルパス | 役割 | 実装内容 |
|--------------|------------|------|---------|
| `Header` | `components/Header.tsx` | タイトル・装飾 | "タケコプターDemo" を表示 |
| `CameraView` | `components/CameraView.tsx` | Webカメラ映像の表示 | `navigator.mediaDevices.getUserMedia` のMock（固定画像またはプレースホルダー） |
| `HelicopterOverlay` | `components/HelicopterOverlay.tsx` | タケコプター画像表示 | `isOn` が `true` のときだけ表示、固定位置に配置 |
| `ToggleButton` | `components/ToggleButton.tsx` | ON/OFF切り替えボタン | `useState` で管理、クリックで `isOn` を切り替え |
| `Footer` | `components/Footer.tsx` | クレジット表示 | "© naizo" を表示 |
| `HomePage` | `app/page.tsx` | メインページ | 上記コンポーネントを組み合わせてレイアウト |

### コンポーネント階層

```
HomePage (app/page.tsx)
├── Header
├── CameraView
│   └── HelicopterOverlay (条件付きレンダリング)
├── ToggleButton
└── Footer
```

---

## ⚙️ 状態管理

### 状態一覧

| 状態名 | 型 | 初期値 | 説明 | 管理場所 |
|--------|-----|--------|------|---------|
| `isOn` | `boolean` | `false` | タケコプター表示のON/OFF | `HomePage` コンポーネント（`useState`） |

### 状態遷移

```
初期状態: isOn = false
  ↓
[ON/OFFボタンクリック]
  ↓
isOn = true → タケコプター画像を表示
  ↓
[ON/OFFボタンクリック]
  ↓
isOn = false → タケコプター画像を非表示
```

---

## 🎨 デザイン仕様

### カラーパレット

| 用途 | カラーコード | 説明 |
|------|------------|------|
| 背景色 | `#FFFFFF` | 白 |
| ヘッダーテキスト | `#1F2937` | ダークグレー |
| ボタン（ON時） | `#3B82F6` | 青 |
| ボタン（OFF時） | `#9CA3AF` | グレー |
| ボタンテキスト | `#FFFFFF` | 白 |
| フッターテキスト | `#6B7280` | ライトグレー |

### タイポグラフィ

| 要素 | フォントサイズ | フォントウェイト | フォントファミリー |
|------|--------------|----------------|------------------|
| ヘッダー | 24px | 700 (Bold) | システムフォント |
| ボタン | 16px | 500 (Medium) | システムフォント |
| フッター | 12px | 400 (Normal) | システムフォント |

### スペーシング

| 要素間の間隔 | 値 |
|------------|-----|
| ヘッダーとカメラ映像の間 | 32px |
| カメラ映像とボタンの間 | 24px |
| ボタンとフッターの間 | 32px |
| ページ全体のパディング | 24px |

---

## 📁 ディレクトリ構成

```
demo-20251106/
├── app/
│   ├── layout.tsx          # ルートレイアウト
│   └── page.tsx            # メインページ（HomePage）
├── components/
│   ├── Header.tsx
│   ├── CameraView.tsx
│   ├── HelicopterOverlay.tsx
│   ├── ToggleButton.tsx
│   └── Footer.tsx
├── public/
│   └── images/
│       └── helicopter.png  # タケコプター画像（80x80px推奨）
├── styles/
│   └── globals.css         # グローバルスタイル
├── package.json
├── tailwind.config.js      # Tailwind CSS設定
└── tsconfig.json
```

---

## 🛠 技術スタック

| 技術 | バージョン | 用途 |
|------|----------|------|
| Next.js | 14.x | フレームワーク |
| React | 18.x | UIライブラリ |
| TypeScript | 5.x | 型安全性 |
| Tailwind CSS | 3.x | スタイリング |

---

## 🧠 今後の発展（次フェーズ）

| 機能 | 内容 | 優先度 |
|------|------|--------|
| MediaPipe連携 | 顔位置を検出し、タケコプターを頭上に表示 | 高 |
| 顔追従 | `requestAnimationFrame` で座標を更新 | 高 |
| 画像選択 | タケコプター画像の差し替え機能 | 中 |
| UI装飾 | ボタンアニメーション・キャラデザイン調整 | 低 |
| レスポンシブ対応 | モバイルデバイスでの表示最適化 | 中 |

---

## 📝 実装メモ

### Phase 1（現在）の実装範囲

- ✅ 基本的なレイアウト構築
- ✅ コンポーネントの分割
- ✅ 状態管理（`isOn`）
- ✅ タケコプター画像の表示/非表示切り替え
- ⚠️ カメラ映像はプレースホルダーまたは固定画像で代用

### 実装しないもの（Phase 2以降）

- ❌ 実際のWebカメラ接続（Phase 1ではプレースホルダー）
- ❌ 顔認識ロジック（MediaPipe等）
- ❌ タケコプター画像の動的配置
- ❌ アニメーション効果

---

## 🎯 完成イメージ

### 画面フロー

1. **初期表示**: カメラ映像領域にプレースホルダー、タケコプター画像は非表示、ボタンは「OFF」状態
2. **ONボタンクリック**: タケコプター画像が固定位置（中央上部）に表示、ボタンは「ON」状態に変化
3. **OFFボタンクリック**: タケコプター画像が非表示、ボタンは「OFF」状態に戻る

### ユーザー体験

- シンプルで直感的な操作
- 視覚的に分かりやすいON/OFF状態
- クリーンでモダンなデザイン

---

## 📌 チェックリスト

### 実装前

- [ ] Next.jsプロジェクトのセットアップ
- [ ] Tailwind CSSの設定
- [ ] タケコプター画像の準備（80x80px推奨）

### 実装中

- [ ] 各コンポーネントの作成
- [ ] 状態管理の実装
- [ ] スタイリングの適用
- [ ] レスポンシブ対応（基本）

### 実装後

- [ ] ブラウザでの動作確認
- [ ] ボタンのクリック動作確認
- [ ] タケコプター画像の表示/非表示確認

---

**作成日**: 2025-11-06  
**バージョン**: 1.0.0  
**ステータス**: 設計完了

